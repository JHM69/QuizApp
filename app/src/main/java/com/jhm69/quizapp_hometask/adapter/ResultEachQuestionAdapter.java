package com.jhm69.quizapp_hometask.adapter;import android.animation.Animator;import android.annotation.SuppressLint;import android.content.Context;import android.content.res.ColorStateList;import android.graphics.Color;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.view.animation.DecelerateInterpolator;import android.widget.ImageView;import android.widget.LinearLayout;import android.widget.TextView;import androidx.annotation.NonNull;import androidx.recyclerview.widget.RecyclerView;import com.jhm69.quizapp_hometask.R;import com.jhm69.quizapp_hometask.model.Question;import com.jhm69.quizapp_hometask.model.Quiz;import com.skydoves.expandablelayout.ExpandableLayout;import java.util.List;public class ResultEachQuestionAdapter extends RecyclerView.Adapter<ResultEachQuestionAdapter.MyViewHolder> {    final List<Question> questionEachResults;    final List<Boolean> answers;    //final BottomSheetDialog mBottomSheetDialog;    int count;    final Context context;    int lastPosition = -1;    boolean expanded = true;    @SuppressLint("InflateParams")    public ResultEachQuestionAdapter(List<Question> questionEachResults,List<Boolean> answers , Context context) {        this.questionEachResults = questionEachResults;        this.answers = answers;        this.context = context;    }    @NonNull    @Override    public MyViewHolder onCreateViewHolder(ViewGroup viewGroup, int i) {        View view = LayoutInflater.from(viewGroup.getContext()).inflate(R.layout.question_top_layout, viewGroup, false);        return new MyViewHolder(view);    }    @Override    public void onBindViewHolder(@NonNull MyViewHolder viewHolder, @SuppressLint("RecyclerView") int i) {        Question q = questionEachResults.get(i);        Boolean ans = answers.get(i);        try {            if (ans) {                viewHolder.hoisekina.setBackgroundResource(R.drawable.ic_baseline_check_24);            } else {                viewHolder.hoisekina.setBackgroundResource(R.drawable.ic_baseline_clear_24);            }        } catch (NullPointerException ignored) {        }        viewHolder.questionText.setText(String.valueOf(i + 1));        viewHolder.expandableLayout.setOnExpandListener(b -> {            count = 0;            playAnim(viewHolder.question, 0, q.getQuestion(), q, viewHolder.sheetView);        });        viewHolder.expandableLayout.expand();        viewHolder.itemView.setOnClickListener(view -> {            if(!expanded) {                viewHolder.expandableLayout.expand();                viewHolder.questionq.setVisibility(View.VISIBLE);            }else{                viewHolder.questionq.setVisibility(View.GONE);                viewHolder.expandableLayout.collapse();            }            expanded = !expanded;        });    }    @Override    public int getItemCount() {        return questionEachResults.size();    }    private void playAnim(final View questionView, final int value, final String data, Question question, LinearLayout optionsContainer) {        questionView.animate().alpha(value).scaleX(value).scaleY(value).setDuration(500).setStartDelay(100)                .setInterpolator(new DecelerateInterpolator()).setListener(new Animator.AnimatorListener() {            @Override            public void onAnimationStart(Animator animation) {                if (value == 0 && count < 4) {                    String option = "";                    optionsContainer.getChildAt(count).setBackgroundTintList(ColorStateList.valueOf(Color.parseColor("#848280")));                    option = question.getOptions().get(count);                    LinearLayout CorrectLayout = (LinearLayout) optionsContainer.getChildAt(question.getCorrectAnswerIndex());                    CorrectLayout.setBackgroundColor(Color.parseColor("#4BBB4F"));                    LinearLayout linearLayout = (LinearLayout) optionsContainer.getChildAt(count);                    playAnim(linearLayout, 0, option, question, optionsContainer);                    count++;                }            }            @Override            public void onAnimationEnd(Animator animation) {                if (value == 0) {                    LinearLayout layout = (LinearLayout) questionView;                    ((TextView) layout.getChildAt(0)).setText(data);                    questionView.setTag(data);                    playAnim(questionView, 1, data, question, optionsContainer);                }            }            @Override            public void onAnimationCancel(Animator animation) {            }            @Override            public void onAnimationRepeat(Animator animation) {            }        });    }    public static class MyViewHolder extends RecyclerView.ViewHolder {        final TextView questionText;        final ExpandableLayout expandableLayout;        final LinearLayout question;        final View questionq;        final LinearLayout sheetView;        final ImageView hoisekina;        public MyViewHolder(View itemView) {            super(itemView);            questionText = itemView.findViewById(R.id.textView3);            question = itemView.findViewById(R.id.questionQ);            expandableLayout = itemView.findViewById(R.id.expandable);            sheetView = itemView.findViewById(R.id.contaner);            questionq = itemView.findViewById(R.id.questionq);            hoisekina = itemView.findViewById(R.id.hoisekina);        }    }}